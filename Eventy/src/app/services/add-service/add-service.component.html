<div class="container">
  <h1>Add a service</h1>
  <form [formGroup]="serviceForm" (ngSubmit)="submit()">
    <div class="form-row">
      <div class="column">
        <mat-form-field appearance="fill">
          <mat-label>Service category</mat-label>
          <input matInput placeholder="Enter value" required>
        </mat-form-field>

        <mat-form-field appearance="fill">
          <mat-label>Name</mat-label>
          <input matInput placeholder="Enter value" required>
        </mat-form-field>

        <mat-form-field appearance="fill">
          <mat-label>Description</mat-label>
          <input matInput placeholder="Enter value" required>
        </mat-form-field>

        <mat-form-field appearance="fill">
          <mat-label>Specifics</mat-label>
          <input matInput placeholder="Enter value" required>
        </mat-form-field>

        <mat-radio-group formControlName="serviceType">
          <mat-radio-button value="basic">Fixed duration</mat-radio-button>
          <mat-radio-button value="premium">Variable duration</mat-radio-button>
        </mat-radio-group>

        <!-- Conditional textboxes -->
        <mat-form-field *ngIf="serviceForm.get('serviceType')?.value === 'basic'" appearance="fill">
          <mat-label>Duration (minutes)</mat-label>
          <input matInput placeholder="Enter value" required>
        </mat-form-field>

        <!-- Premium textboxes (side by side) -->
        <div *ngIf="serviceForm.get('serviceType')?.value === 'premium'" class="premium-textbox-container">
          <mat-form-field appearance="fill" class="premium-textbox">
            <mat-label>Minimum duration (minutes)</mat-label>
            <input matInput placeholder="Enter value" required>
          </mat-form-field>

          <mat-form-field appearance="fill" class="premium-textbox">
            <mat-label>Maximum duration (minutes)</mat-label>
            <input matInput placeholder="Enter value" required>
          </mat-form-field>
        </div>

        <mat-form-field appearance="fill">
          <mat-label>Days notice for reservation</mat-label>
          <input matInput placeholder="Enter value" required>
        </mat-form-field>

        <mat-checkbox [checked]="checked">Automatically accept reservations</mat-checkbox>

      </div>

      <div class="column">
        <mat-form-field appearance="fill">
          <mat-label>Related event types</mat-label>
          <mat-select formControlName="categories" multiple>
            <mat-option *ngFor="let category of categoryList" [value]="category">
              {{ category }}
            </mat-option>
          </mat-select>
        </mat-form-field>

        <mat-form-field appearance="fill">
          <mat-label>Price</mat-label>
          <input matInput placeholder="Enter value" required>
        </mat-form-field>

        <mat-form-field appearance="fill">
          <mat-label>Discount (%)</mat-label>
          <input matInput placeholder="Enter value" required>
        </mat-form-field>

        <div class="image-picker-container">
          <input #addPictures id="picker" type="file" (change)="onFilesSelected($event)" accept="image/*" multiple>
          <div class="picture-button" (click)="triggerFileInput()">Upload Pictures</div>
        </div>
        
        <div class="selected-images" *ngIf="selectedFiles.length">
          <div *ngFor="let file of selectedFiles; let i = index" class="image-preview">
            <img [src]="file.preview" alt="image preview" />
          </div>
        </div>
      </div>
    </div>

    <button mat-raised-button color="primary" type="submit">Create service</button>
  </form>
</div>
